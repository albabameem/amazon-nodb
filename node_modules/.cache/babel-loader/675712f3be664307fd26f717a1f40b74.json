{"ast":null,"code":"define(['jquery'], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor() {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n    return ChildClass;\n  };\n\n  function getMethods(theClass) {\n    var proto = theClass.prototype;\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass() {\n      var unshift = Array.prototype.unshift;\n      var argCount = DecoratorClass.prototype.constructor.length;\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr() {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n      var superMethod = superMethods[m];\n      DecoratedClass.prototype[superMethod] = SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n      return function () {\n        var unshift = Array.prototype.unshift;\n        unshift.call(arguments, originalMethod);\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n    var params = slice.call(arguments, 1);\n    this.listeners = this.listeners || {}; // Params should always come in as an array\n\n    if (params == null) {\n      params = [];\n    } // If there are no arguments to the event, use a temporary object\n\n\n    if (params.length === 0) {\n      params.push({});\n    } // Set the `_type` of the first object to the event\n\n\n    params[0]._type = event;\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k]; // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY; //Check both x and y declarations\n\n    if (overflowX === overflowY && (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return $el.innerHeight() < el.scrollHeight || $el.innerWidth() < el.scrollWidth;\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    }; // Do not try to escape the markup if it's not a string\n\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  }; // Append an array of jQuery nodes to a given element.\n\n\n  Utils.appendMany = function ($element, $nodes) {\n    // jQuery 1.7.x does not support $.fn.append() with an array\n    // Fall back to a jQuery object collection using $.fn.add()\n    if ($.fn.jquery.substr(0, 3) === '1.7') {\n      var $jqNodes = $();\n      $.map($nodes, function (node) {\n        $jqNodes = $jqNodes.add(node);\n      });\n      $nodes = $jqNodes;\n    }\n\n    $element.append($nodes);\n  }; // Cache objects in Utils.__cache instead of $.data (see #4346)\n\n\n  Utils.__cache = {};\n  var id = 0;\n\n  Utils.GetUniqueElementId = function (element) {\n    // Get a unique element Id. If element has no id,\n    // creates a new unique number, stores it in the id\n    // attribute and returns the new id.\n    // If an id already exists, it simply returns it.\n    var select2Id = element.getAttribute('data-select2-id');\n\n    if (select2Id == null) {\n      // If element has id, use it.\n      if (element.id) {\n        select2Id = element.id;\n        element.setAttribute('data-select2-id', select2Id);\n      } else {\n        element.setAttribute('data-select2-id', ++id);\n        select2Id = id.toString();\n      }\n    }\n\n    return select2Id;\n  };\n\n  Utils.StoreData = function (element, name, value) {\n    // Stores an item in the cache for a specified element.\n    // name is the cache key.\n    var id = Utils.GetUniqueElementId(element);\n\n    if (!Utils.__cache[id]) {\n      Utils.__cache[id] = {};\n    }\n\n    Utils.__cache[id][name] = value;\n  };\n\n  Utils.GetData = function (element, name) {\n    // Retrieves a value from the cache by its key (name)\n    // name is optional. If no name specified, return\n    // all cache items for the specified element.\n    // and for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n\n    if (name) {\n      if (Utils.__cache[id]) {\n        if (Utils.__cache[id][name] != null) {\n          return Utils.__cache[id][name];\n        }\n\n        return $(element).data(name); // Fallback to HTML5 data attribs.\n      }\n\n      return $(element).data(name); // Fallback to HTML5 data attribs.\n    } else {\n      return Utils.__cache[id];\n    }\n  };\n\n  Utils.RemoveData = function (element) {\n    // Removes all cached items for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n\n    if (Utils.__cache[id] != null) {\n      delete Utils.__cache[id];\n    }\n\n    element.removeAttribute('data-select2-id');\n  };\n\n  return Utils;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/utils.js"],"names":["define","$","Utils","Extend","ChildClass","SuperClass","__hasProp","hasOwnProperty","BaseConstructor","constructor","key","call","prototype","__super__","getMethods","theClass","proto","methods","methodName","m","push","Decorate","DecoratorClass","decoratedMethods","superMethods","DecoratedClass","unshift","Array","argCount","length","calledConstructor","arguments","apply","displayName","ctr","superMethod","calledMethod","originalMethod","decoratedMethod","d","Observable","listeners","on","event","callback","trigger","slice","params","_type","invoke","i","len","generateChars","chars","randomChar","Math","floor","random","toString","bind","func","context","_convertData","data","originalKey","keys","split","dataLevel","k","substring","toLowerCase","hasScroll","index","el","$el","overflowX","style","overflowY","innerHeight","scrollHeight","innerWidth","scrollWidth","escapeMarkup","markup","replaceMap","String","replace","match","appendMany","$element","$nodes","fn","jquery","substr","$jqNodes","map","node","add","append","__cache","id","GetUniqueElementId","element","select2Id","getAttribute","setAttribute","StoreData","name","value","GetData","RemoveData","removeAttribute"],"mappings":"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","sourcesContent":["define([\n  'jquery'\n], function ($) {\n  var Utils = {};\n\n  Utils.Extend = function (ChildClass, SuperClass) {\n    var __hasProp = {}.hasOwnProperty;\n\n    function BaseConstructor () {\n      this.constructor = ChildClass;\n    }\n\n    for (var key in SuperClass) {\n      if (__hasProp.call(SuperClass, key)) {\n        ChildClass[key] = SuperClass[key];\n      }\n    }\n\n    BaseConstructor.prototype = SuperClass.prototype;\n    ChildClass.prototype = new BaseConstructor();\n    ChildClass.__super__ = SuperClass.prototype;\n\n    return ChildClass;\n  };\n\n  function getMethods (theClass) {\n    var proto = theClass.prototype;\n\n    var methods = [];\n\n    for (var methodName in proto) {\n      var m = proto[methodName];\n\n      if (typeof m !== 'function') {\n        continue;\n      }\n\n      if (methodName === 'constructor') {\n        continue;\n      }\n\n      methods.push(methodName);\n    }\n\n    return methods;\n  }\n\n  Utils.Decorate = function (SuperClass, DecoratorClass) {\n    var decoratedMethods = getMethods(DecoratorClass);\n    var superMethods = getMethods(SuperClass);\n\n    function DecoratedClass () {\n      var unshift = Array.prototype.unshift;\n\n      var argCount = DecoratorClass.prototype.constructor.length;\n\n      var calledConstructor = SuperClass.prototype.constructor;\n\n      if (argCount > 0) {\n        unshift.call(arguments, SuperClass.prototype.constructor);\n\n        calledConstructor = DecoratorClass.prototype.constructor;\n      }\n\n      calledConstructor.apply(this, arguments);\n    }\n\n    DecoratorClass.displayName = SuperClass.displayName;\n\n    function ctr () {\n      this.constructor = DecoratedClass;\n    }\n\n    DecoratedClass.prototype = new ctr();\n\n    for (var m = 0; m < superMethods.length; m++) {\n      var superMethod = superMethods[m];\n\n      DecoratedClass.prototype[superMethod] =\n        SuperClass.prototype[superMethod];\n    }\n\n    var calledMethod = function (methodName) {\n      // Stub out the original method if it's not decorating an actual method\n      var originalMethod = function () {};\n\n      if (methodName in DecoratedClass.prototype) {\n        originalMethod = DecoratedClass.prototype[methodName];\n      }\n\n      var decoratedMethod = DecoratorClass.prototype[methodName];\n\n      return function () {\n        var unshift = Array.prototype.unshift;\n\n        unshift.call(arguments, originalMethod);\n\n        return decoratedMethod.apply(this, arguments);\n      };\n    };\n\n    for (var d = 0; d < decoratedMethods.length; d++) {\n      var decoratedMethod = decoratedMethods[d];\n\n      DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);\n    }\n\n    return DecoratedClass;\n  };\n\n  var Observable = function () {\n    this.listeners = {};\n  };\n\n  Observable.prototype.on = function (event, callback) {\n    this.listeners = this.listeners || {};\n\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  };\n\n  Observable.prototype.trigger = function (event) {\n    var slice = Array.prototype.slice;\n    var params = slice.call(arguments, 1);\n\n    this.listeners = this.listeners || {};\n\n    // Params should always come in as an array\n    if (params == null) {\n      params = [];\n    }\n\n    // If there are no arguments to the event, use a temporary object\n    if (params.length === 0) {\n      params.push({});\n    }\n\n    // Set the `_type` of the first object to the event\n    params[0]._type = event;\n\n    if (event in this.listeners) {\n      this.invoke(this.listeners[event], slice.call(arguments, 1));\n    }\n\n    if ('*' in this.listeners) {\n      this.invoke(this.listeners['*'], arguments);\n    }\n  };\n\n  Observable.prototype.invoke = function (listeners, params) {\n    for (var i = 0, len = listeners.length; i < len; i++) {\n      listeners[i].apply(this, params);\n    }\n  };\n\n  Utils.Observable = Observable;\n\n  Utils.generateChars = function (length) {\n    var chars = '';\n\n    for (var i = 0; i < length; i++) {\n      var randomChar = Math.floor(Math.random() * 36);\n      chars += randomChar.toString(36);\n    }\n\n    return chars;\n  };\n\n  Utils.bind = function (func, context) {\n    return function () {\n      func.apply(context, arguments);\n    };\n  };\n\n  Utils._convertData = function (data) {\n    for (var originalKey in data) {\n      var keys = originalKey.split('-');\n\n      var dataLevel = data;\n\n      if (keys.length === 1) {\n        continue;\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k];\n\n        // Lowercase the first letter\n        // By default, dash-separated becomes camelCase\n        key = key.substring(0, 1).toLowerCase() + key.substring(1);\n\n        if (!(key in dataLevel)) {\n          dataLevel[key] = {};\n        }\n\n        if (k == keys.length - 1) {\n          dataLevel[key] = data[originalKey];\n        }\n\n        dataLevel = dataLevel[key];\n      }\n\n      delete data[originalKey];\n    }\n\n    return data;\n  };\n\n  Utils.hasScroll = function (index, el) {\n    // Adapted from the function created by @ShadowScripter\n    // and adapted by @BillBarry on the Stack Exchange Code Review website.\n    // The original code can be found at\n    // http://codereview.stackexchange.com/q/13338\n    // and was designed to be used with the Sizzle selector engine.\n\n    var $el = $(el);\n    var overflowX = el.style.overflowX;\n    var overflowY = el.style.overflowY;\n\n    //Check both x and y declarations\n    if (overflowX === overflowY &&\n        (overflowY === 'hidden' || overflowY === 'visible')) {\n      return false;\n    }\n\n    if (overflowX === 'scroll' || overflowY === 'scroll') {\n      return true;\n    }\n\n    return ($el.innerHeight() < el.scrollHeight ||\n      $el.innerWidth() < el.scrollWidth);\n  };\n\n  Utils.escapeMarkup = function (markup) {\n    var replaceMap = {\n      '\\\\': '&#92;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '/': '&#47;'\n    };\n\n    // Do not try to escape the markup if it's not a string\n    if (typeof markup !== 'string') {\n      return markup;\n    }\n\n    return String(markup).replace(/[&<>\"'\\/\\\\]/g, function (match) {\n      return replaceMap[match];\n    });\n  };\n\n  // Append an array of jQuery nodes to a given element.\n  Utils.appendMany = function ($element, $nodes) {\n    // jQuery 1.7.x does not support $.fn.append() with an array\n    // Fall back to a jQuery object collection using $.fn.add()\n    if ($.fn.jquery.substr(0, 3) === '1.7') {\n      var $jqNodes = $();\n\n      $.map($nodes, function (node) {\n        $jqNodes = $jqNodes.add(node);\n      });\n\n      $nodes = $jqNodes;\n    }\n\n    $element.append($nodes);\n  };\n\n  // Cache objects in Utils.__cache instead of $.data (see #4346)\n  Utils.__cache = {};\n\n  var id = 0;\n  Utils.GetUniqueElementId = function (element) {\n    // Get a unique element Id. If element has no id,\n    // creates a new unique number, stores it in the id\n    // attribute and returns the new id.\n    // If an id already exists, it simply returns it.\n\n    var select2Id = element.getAttribute('data-select2-id');\n    if (select2Id == null) {\n      // If element has id, use it.\n      if (element.id) {\n        select2Id = element.id;\n        element.setAttribute('data-select2-id', select2Id);\n      } else {\n        element.setAttribute('data-select2-id', ++id);\n        select2Id = id.toString();\n      }\n    }\n    return select2Id;\n  };\n\n  Utils.StoreData = function (element, name, value) {\n    // Stores an item in the cache for a specified element.\n    // name is the cache key.\n    var id = Utils.GetUniqueElementId(element);\n    if (!Utils.__cache[id]) {\n      Utils.__cache[id] = {};\n    }\n\n    Utils.__cache[id][name] = value;\n  };\n\n  Utils.GetData = function (element, name) {\n    // Retrieves a value from the cache by its key (name)\n    // name is optional. If no name specified, return\n    // all cache items for the specified element.\n    // and for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n    if (name) {\n      if (Utils.__cache[id]) {\n        if (Utils.__cache[id][name] != null) {\n          return Utils.__cache[id][name];\n        }\n        return $(element).data(name); // Fallback to HTML5 data attribs.\n      }\n      return $(element).data(name); // Fallback to HTML5 data attribs.\n    } else {\n      return Utils.__cache[id];\n    }\n  };\n\n  Utils.RemoveData = function (element) {\n    // Removes all cached items for a specified element.\n    var id = Utils.GetUniqueElementId(element);\n    if (Utils.__cache[id] != null) {\n      delete Utils.__cache[id];\n    }\n\n    element.removeAttribute('data-select2-id');\n  };\n\n  return Utils;\n});\n"]},"metadata":{},"sourceType":"module"}