{"ast":null,"code":"define(['../utils'], function (Utils) {\n  function SelectOnClose() {}\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    decorated.call(this, container, $container);\n    container.on('close', function (params) {\n      self._handleSelectOnClose(params);\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function (_, params) {\n    if (params && params.originalSelect2Event != null) {\n      var event = params.originalSelect2Event; // Don't select an item if the close event was triggered from a select or\n      // unselect event\n\n      if (event._type === 'select' || event._type === 'unselect') {\n        return;\n      }\n    }\n\n    var $highlightedResults = this.getHighlightedResults(); // Only select highlighted results\n\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    var data = Utils.GetData($highlightedResults[0], 'data'); // Don't re-select already selected resulte\n\n    if (data.element != null && data.element.selected || data.element == null && data.selected) {\n      return;\n    }\n\n    this.trigger('select', {\n      data: data\n    });\n  };\n\n  return SelectOnClose;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/dropdown/selectOnClose.js"],"names":["define","Utils","SelectOnClose","prototype","bind","decorated","container","$container","self","call","on","params","_handleSelectOnClose","_","originalSelect2Event","event","_type","$highlightedResults","getHighlightedResults","length","data","GetData","element","selected","trigger"],"mappings":"AAAAA,MAAM,CAAC,CACL,UADK,CAAD,EAEH,UAAUC,KAAV,EAAiB;AAClB,WAASC,aAAT,GAA0B,CAAG;;AAE7BA,EAAAA,aAAa,CAACC,SAAd,CAAwBC,IAAxB,GAA+B,UAAUC,SAAV,EAAqBC,SAArB,EAAgCC,UAAhC,EAA4C;AACzE,QAAIC,IAAI,GAAG,IAAX;AAEAH,IAAAA,SAAS,CAACI,IAAV,CAAe,IAAf,EAAqBH,SAArB,EAAgCC,UAAhC;AAEAD,IAAAA,SAAS,CAACI,EAAV,CAAa,OAAb,EAAsB,UAAUC,MAAV,EAAkB;AACtCH,MAAAA,IAAI,CAACI,oBAAL,CAA0BD,MAA1B;AACD,KAFD;AAGD,GARD;;AAUAT,EAAAA,aAAa,CAACC,SAAd,CAAwBS,oBAAxB,GAA+C,UAAUC,CAAV,EAAaF,MAAb,EAAqB;AAClE,QAAIA,MAAM,IAAIA,MAAM,CAACG,oBAAP,IAA+B,IAA7C,EAAmD;AACjD,UAAIC,KAAK,GAAGJ,MAAM,CAACG,oBAAnB,CADiD,CAGjD;AACA;;AACA,UAAIC,KAAK,CAACC,KAAN,KAAgB,QAAhB,IAA4BD,KAAK,CAACC,KAAN,KAAgB,UAAhD,EAA4D;AAC1D;AACD;AACF;;AAED,QAAIC,mBAAmB,GAAG,KAAKC,qBAAL,EAA1B,CAXkE,CAalE;;AACA,QAAID,mBAAmB,CAACE,MAApB,GAA6B,CAAjC,EAAoC;AAClC;AACD;;AAED,QAAIC,IAAI,GAAGnB,KAAK,CAACoB,OAAN,CAAcJ,mBAAmB,CAAC,CAAD,CAAjC,EAAsC,MAAtC,CAAX,CAlBkE,CAoBlE;;AACA,QACGG,IAAI,CAACE,OAAL,IAAgB,IAAhB,IAAwBF,IAAI,CAACE,OAAL,CAAaC,QAAtC,IACCH,IAAI,CAACE,OAAL,IAAgB,IAAhB,IAAwBF,IAAI,CAACG,QAFhC,EAGE;AACA;AACD;;AAED,SAAKC,OAAL,CAAa,QAAb,EAAuB;AACnBJ,MAAAA,IAAI,EAAEA;AADa,KAAvB;AAGD,GA/BD;;AAiCA,SAAOlB,aAAP;AACD,CAjDK,CAAN","sourcesContent":["define([\n  '../utils'\n], function (Utils) {\n  function SelectOnClose () { }\n\n  SelectOnClose.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    decorated.call(this, container, $container);\n\n    container.on('close', function (params) {\n      self._handleSelectOnClose(params);\n    });\n  };\n\n  SelectOnClose.prototype._handleSelectOnClose = function (_, params) {\n    if (params && params.originalSelect2Event != null) {\n      var event = params.originalSelect2Event;\n\n      // Don't select an item if the close event was triggered from a select or\n      // unselect event\n      if (event._type === 'select' || event._type === 'unselect') {\n        return;\n      }\n    }\n\n    var $highlightedResults = this.getHighlightedResults();\n\n    // Only select highlighted results\n    if ($highlightedResults.length < 1) {\n      return;\n    }\n\n    var data = Utils.GetData($highlightedResults[0], 'data');\n\n    // Don't re-select already selected resulte\n    if (\n      (data.element != null && data.element.selected) ||\n      (data.element == null && data.selected)\n    ) {\n      return;\n    }\n\n    this.trigger('select', {\n        data: data\n    });\n  };\n\n  return SelectOnClose;\n});\n"]},"metadata":{},"sourceType":"module"}