{"ast":null,"code":"define(['jquery', '../utils', '../keys'], function ($, Utils, KEYS) {\n  function Search(decorated, $element, options) {\n    decorated.call(this, $element, options);\n  }\n\n  Search.prototype.render = function (decorated) {\n    var $search = $('<li class=\"select2-search select2-search--inline\">' + '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' + ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\"' + ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" />' + '</li>');\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n    var $rendered = decorated.call(this);\n\n    this._transferTabIndex();\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    var resultsId = container.id + '-results';\n    decorated.call(this, container, $container);\n    container.on('open', function () {\n      self.$search.attr('aria-controls', resultsId);\n      self.$search.trigger('focus');\n    });\n    container.on('close', function () {\n      self.$search.val('');\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n      self.$search.trigger('focus');\n    });\n    container.on('enable', function () {\n      self.$search.prop('disabled', false);\n\n      self._transferTabIndex();\n    });\n    container.on('disable', function () {\n      self.$search.prop('disabled', true);\n    });\n    container.on('focus', function (evt) {\n      self.$search.trigger('focus');\n    });\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n    this.$selection.on('focusin', '.select2-search--inline', function (evt) {\n      self.trigger('focus', evt);\n    });\n    this.$selection.on('focusout', '.select2-search--inline', function (evt) {\n      self._handleBlur(evt);\n    });\n    this.$selection.on('keydown', '.select2-search--inline', function (evt) {\n      evt.stopPropagation();\n      self.trigger('keypress', evt);\n      self._keyUpPrevented = evt.isDefaultPrevented();\n      var key = evt.which;\n\n      if (key === KEYS.BACKSPACE && self.$search.val() === '') {\n        var $previousChoice = self.$searchContainer.prev('.select2-selection__choice');\n\n        if ($previousChoice.length > 0) {\n          var item = Utils.GetData($previousChoice[0], 'data');\n          self.searchRemoveChoice(item);\n          evt.preventDefault();\n        }\n      }\n    });\n    this.$selection.on('click', '.select2-search--inline', function (evt) {\n      if (self.$search.val()) {\n        evt.stopPropagation();\n      }\n    }); // Try to detect the IE version should the `documentMode` property that\n    // is stored on the document. This is only implemented in IE and is\n    // slightly cleaner than doing a user agent check.\n    // This property is not available in Edge, but Edge also doesn't have\n    // this bug.\n\n    var msie = document.documentMode;\n    var disableInputEvents = msie && msie <= 11; // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n\n    this.$selection.on('input.searchcheck', '.select2-search--inline', function (evt) {\n      // IE will trigger the `input` event when a placeholder is used on a\n      // search box. To get around this issue, we are forced to ignore all\n      // `input` events in IE and keep using `keyup`.\n      if (disableInputEvents) {\n        self.$selection.off('input.search input.searchcheck');\n        return;\n      } // Unbind the duplicated `keyup` event\n\n\n      self.$selection.off('keyup.search');\n    });\n    this.$selection.on('keyup.search input.search', '.select2-search--inline', function (evt) {\n      // IE will trigger the `input` event when a placeholder is used on a\n      // search box. To get around this issue, we are forced to ignore all\n      // `input` events in IE and keep using `keyup`.\n      if (disableInputEvents && evt.type === 'input') {\n        self.$selection.off('input.search input.searchcheck');\n        return;\n      }\n\n      var key = evt.which; // We can freely ignore events from modifier keys\n\n      if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {\n        return;\n      } // Tabbing will be handled during the `keydown` phase\n\n\n      if (key == KEYS.TAB) {\n        return;\n      }\n\n      self.handleSearch(evt);\n    });\n  };\n  /**\n   * This method will transfer the tabindex attribute from the rendered\n   * selection to the search box. This allows for the search box to be used as\n   * the primary focus instead of the selection container.\n   *\n   * @private\n   */\n\n\n  Search.prototype._transferTabIndex = function (decorated) {\n    this.$search.attr('tabindex', this.$selection.attr('tabindex'));\n    this.$selection.attr('tabindex', '-1');\n  };\n\n  Search.prototype.createPlaceholder = function (decorated, placeholder) {\n    this.$search.attr('placeholder', placeholder.text);\n  };\n\n  Search.prototype.update = function (decorated, data) {\n    var searchHadFocus = this.$search[0] == document.activeElement;\n    this.$search.attr('placeholder', '');\n    decorated.call(this, data);\n    this.$selection.find('.select2-selection__rendered').append(this.$searchContainer);\n    this.resizeSearch();\n\n    if (searchHadFocus) {\n      this.$search.trigger('focus');\n    }\n  };\n\n  Search.prototype.handleSearch = function () {\n    this.resizeSearch();\n\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.searchRemoveChoice = function (decorated, item) {\n    this.trigger('unselect', {\n      data: item\n    });\n    this.$search.val(item.text);\n    this.handleSearch();\n  };\n\n  Search.prototype.resizeSearch = function () {\n    this.$search.css('width', '25px');\n    var width = '';\n\n    if (this.$search.attr('placeholder') !== '') {\n      width = this.$selection.find('.select2-selection__rendered').width();\n    } else {\n      var minimumWidth = this.$search.val().length + 1;\n      width = minimumWidth * 0.75 + 'em';\n    }\n\n    this.$search.css('width', width);\n  };\n\n  return Search;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/selection/search.js"],"names":["define","$","Utils","KEYS","Search","decorated","$element","options","call","prototype","render","$search","$searchContainer","find","$rendered","_transferTabIndex","bind","container","$container","self","resultsId","id","on","attr","trigger","val","removeAttr","prop","evt","params","data","_resultId","$selection","_handleBlur","stopPropagation","_keyUpPrevented","isDefaultPrevented","key","which","BACKSPACE","$previousChoice","prev","length","item","GetData","searchRemoveChoice","preventDefault","msie","document","documentMode","disableInputEvents","off","type","SHIFT","CTRL","ALT","TAB","handleSearch","createPlaceholder","placeholder","text","update","searchHadFocus","activeElement","append","resizeSearch","input","term","css","width","minimumWidth"],"mappings":"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","sourcesContent":["define([\n  'jquery',\n  '../utils',\n  '../keys'\n], function ($, Utils, KEYS) {\n  function Search (decorated, $element, options) {\n    decorated.call(this, $element, options);\n  }\n\n  Search.prototype.render = function (decorated) {\n    var $search = $(\n      '<li class=\"select2-search select2-search--inline\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\"' +\n        ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" />' +\n      '</li>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    var $rendered = decorated.call(this);\n\n    this._transferTabIndex();\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var resultsId = container.id + '-results';\n\n    decorated.call(this, container, $container);\n\n    container.on('open', function () {\n      self.$search.attr('aria-controls', resultsId);\n      self.$search.trigger('focus');\n    });\n\n    container.on('close', function () {\n      self.$search.val('');\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n      self.$search.trigger('focus');\n    });\n\n    container.on('enable', function () {\n      self.$search.prop('disabled', false);\n\n      self._transferTabIndex();\n    });\n\n    container.on('disable', function () {\n      self.$search.prop('disabled', true);\n    });\n\n    container.on('focus', function (evt) {\n      self.$search.trigger('focus');\n    });\n\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n\n    this.$selection.on('focusin', '.select2-search--inline', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this.$selection.on('focusout', '.select2-search--inline', function (evt) {\n      self._handleBlur(evt);\n    });\n\n    this.$selection.on('keydown', '.select2-search--inline', function (evt) {\n      evt.stopPropagation();\n\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n\n      var key = evt.which;\n\n      if (key === KEYS.BACKSPACE && self.$search.val() === '') {\n        var $previousChoice = self.$searchContainer\n          .prev('.select2-selection__choice');\n\n        if ($previousChoice.length > 0) {\n          var item = Utils.GetData($previousChoice[0], 'data');\n\n          self.searchRemoveChoice(item);\n\n          evt.preventDefault();\n        }\n      }\n    });\n\n    this.$selection.on('click', '.select2-search--inline', function (evt) {\n      if (self.$search.val()) {\n        evt.stopPropagation();\n      }\n    });\n\n    // Try to detect the IE version should the `documentMode` property that\n    // is stored on the document. This is only implemented in IE and is\n    // slightly cleaner than doing a user agent check.\n    // This property is not available in Edge, but Edge also doesn't have\n    // this bug.\n    var msie = document.documentMode;\n    var disableInputEvents = msie && msie <= 11;\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$selection.on(\n      'input.searchcheck',\n      '.select2-search--inline',\n      function (evt) {\n        // IE will trigger the `input` event when a placeholder is used on a\n        // search box. To get around this issue, we are forced to ignore all\n        // `input` events in IE and keep using `keyup`.\n        if (disableInputEvents) {\n          self.$selection.off('input.search input.searchcheck');\n          return;\n        }\n\n        // Unbind the duplicated `keyup` event\n        self.$selection.off('keyup.search');\n      }\n    );\n\n    this.$selection.on(\n      'keyup.search input.search',\n      '.select2-search--inline',\n      function (evt) {\n        // IE will trigger the `input` event when a placeholder is used on a\n        // search box. To get around this issue, we are forced to ignore all\n        // `input` events in IE and keep using `keyup`.\n        if (disableInputEvents && evt.type === 'input') {\n          self.$selection.off('input.search input.searchcheck');\n          return;\n        }\n\n        var key = evt.which;\n\n        // We can freely ignore events from modifier keys\n        if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {\n          return;\n        }\n\n        // Tabbing will be handled during the `keydown` phase\n        if (key == KEYS.TAB) {\n          return;\n        }\n\n        self.handleSearch(evt);\n      }\n    );\n  };\n\n  /**\n   * This method will transfer the tabindex attribute from the rendered\n   * selection to the search box. This allows for the search box to be used as\n   * the primary focus instead of the selection container.\n   *\n   * @private\n   */\n  Search.prototype._transferTabIndex = function (decorated) {\n    this.$search.attr('tabindex', this.$selection.attr('tabindex'));\n    this.$selection.attr('tabindex', '-1');\n  };\n\n  Search.prototype.createPlaceholder = function (decorated, placeholder) {\n    this.$search.attr('placeholder', placeholder.text);\n  };\n\n  Search.prototype.update = function (decorated, data) {\n    var searchHadFocus = this.$search[0] == document.activeElement;\n\n    this.$search.attr('placeholder', '');\n\n    decorated.call(this, data);\n\n    this.$selection.find('.select2-selection__rendered')\n                   .append(this.$searchContainer);\n\n    this.resizeSearch();\n    if (searchHadFocus) {\n      this.$search.trigger('focus');\n    }\n  };\n\n  Search.prototype.handleSearch = function () {\n    this.resizeSearch();\n\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.searchRemoveChoice = function (decorated, item) {\n    this.trigger('unselect', {\n      data: item\n    });\n\n    this.$search.val(item.text);\n    this.handleSearch();\n  };\n\n  Search.prototype.resizeSearch = function () {\n    this.$search.css('width', '25px');\n\n    var width = '';\n\n    if (this.$search.attr('placeholder') !== '') {\n      width = this.$selection.find('.select2-selection__rendered').width();\n    } else {\n      var minimumWidth = this.$search.val().length + 1;\n\n      width = (minimumWidth * 0.75) + 'em';\n    }\n\n    this.$search.css('width', width);\n  };\n\n  return Search;\n});\n"]},"metadata":{},"sourceType":"module"}