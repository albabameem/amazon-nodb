{"ast":null,"code":"define(['jquery', './base', '../utils'], function ($, BaseSelection, Utils) {\n  function MultipleSelection($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--multiple');\n    $selection.html('<ul class=\"select2-selection__rendered\"></ul>');\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n    this.$selection.on('click', '.select2-selection__choice__remove', function (evt) {\n      // Ignore the event if it is disabled\n      if (self.isDisabled()) {\n        return;\n      }\n\n      var $remove = $(this);\n      var $selection = $remove.parent();\n      var data = Utils.GetData($selection[0], 'data');\n      self.trigger('unselect', {\n        originalEvent: evt,\n        data: data\n      });\n    });\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title');\n  };\n\n  MultipleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n    return escapeMarkup(template(data, container));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $('<li class=\"select2-selection__choice\">' + '<span class=\"select2-selection__choice__remove\" role=\"presentation\">' + '&times;' + '</span>' + '</li>');\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n      var $selection = this.selectionContainer();\n      var formatted = this.display(selection, $selection);\n      $selection.append(formatted);\n      var title = selection.title || selection.text;\n\n      if (title) {\n        $selection.attr('title', title);\n      }\n\n      Utils.StoreData($selection[0], 'data', selection);\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    Utils.appendMany($rendered, $selections);\n  };\n\n  return MultipleSelection;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/selection/multiple.js"],"names":["define","$","BaseSelection","Utils","MultipleSelection","$element","options","__super__","constructor","apply","arguments","Extend","prototype","render","$selection","call","addClass","html","bind","container","$container","self","on","evt","trigger","originalEvent","isDisabled","$remove","parent","data","GetData","clear","$rendered","find","empty","removeAttr","display","template","get","escapeMarkup","selectionContainer","update","length","$selections","d","selection","formatted","append","title","text","attr","StoreData","push","appendMany"],"mappings":"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","sourcesContent":["define([\n  'jquery',\n  './base',\n  '../utils'\n], function ($, BaseSelection, Utils) {\n  function MultipleSelection ($element, options) {\n    MultipleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(MultipleSelection, BaseSelection);\n\n  MultipleSelection.prototype.render = function () {\n    var $selection = MultipleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--multiple');\n\n    $selection.html(\n      '<ul class=\"select2-selection__rendered\"></ul>'\n    );\n\n    return $selection;\n  };\n\n  MultipleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    MultipleSelection.__super__.bind.apply(this, arguments);\n\n    this.$selection.on('click', function (evt) {\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on(\n      'click',\n      '.select2-selection__choice__remove',\n      function (evt) {\n        // Ignore the event if it is disabled\n        if (self.isDisabled()) {\n          return;\n        }\n\n        var $remove = $(this);\n        var $selection = $remove.parent();\n\n        var data = Utils.GetData($selection[0], 'data');\n\n        self.trigger('unselect', {\n          originalEvent: evt,\n          data: data\n        });\n      }\n    );\n  };\n\n  MultipleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title');\n  };\n\n  MultipleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  MultipleSelection.prototype.selectionContainer = function () {\n    var $container = $(\n      '<li class=\"select2-selection__choice\">' +\n        '<span class=\"select2-selection__choice__remove\" role=\"presentation\">' +\n          '&times;' +\n        '</span>' +\n      '</li>'\n    );\n\n    return $container;\n  };\n\n  MultipleSelection.prototype.update = function (data) {\n    this.clear();\n\n    if (data.length === 0) {\n      return;\n    }\n\n    var $selections = [];\n\n    for (var d = 0; d < data.length; d++) {\n      var selection = data[d];\n\n      var $selection = this.selectionContainer();\n      var formatted = this.display(selection, $selection);\n\n      $selection.append(formatted);\n\n      var title = selection.title || selection.text;\n\n      if (title) {\n        $selection.attr('title', title);\n      }\n\n      Utils.StoreData($selection[0], 'data', selection);\n\n      $selections.push($selection);\n    }\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n\n    Utils.appendMany($rendered, $selections);\n  };\n\n  return MultipleSelection;\n});\n"]},"metadata":{},"sourceType":"module"}