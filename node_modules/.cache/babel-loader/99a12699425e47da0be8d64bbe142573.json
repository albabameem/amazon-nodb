{"ast":null,"code":"define(['jquery', './options', './utils', './keys'], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if (Utils.GetData($element[0], 'select2') != null) {\n      Utils.GetData($element[0], 'select2').destroy();\n    }\n\n    this.$element = $element;\n    this.id = this._generateId($element);\n    options = options || {};\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this); // Set up the tabindex\n\n\n    var tabindex = $element.attr('tabindex') || 0;\n    Utils.StoreData($element[0], 'old-tabindex', tabindex);\n    $element.attr('tabindex', '-1'); // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n    this.selection.position(this.$selection, $container);\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n    this.dropdown.position(this.$dropdown, $container);\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n    this.results.position(this.$results, this.$dropdown); // Bind events\n\n    var self = this; // Bind the container to all of the adapters\n\n    this._bindAdapters(); // Register any DOM event handlers\n\n\n    this._registerDomEvents(); // Register any internal event handlers\n\n\n    this._registerDataEvents();\n\n    this._registerSelectionEvents();\n\n    this._registerDropdownEvents();\n\n    this._registerResultsEvents();\n\n    this._registerEvents(); // Set the initial state\n\n\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    }); // Hide the original select\n\n    $element.addClass('select2-hidden-accessible');\n    $element.attr('aria-hidden', 'true'); // Synchronize any monitored attributes\n\n    this._syncAttributes();\n\n    Utils.StoreData($element[0], 'select2', this); // Ensure backwards compatibility with $element.data('select2').\n\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = 'select2-' + id;\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof style !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    if (method == 'computedstyle') {\n      var computedStyle = window.getComputedStyle($element[0]);\n      return computedStyle.width;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n    this.$element.on('focus.select2', function (evt) {\n      self.trigger('focus', evt);\n    });\n    this._syncA = Utils.bind(this._syncAttributes, this);\n    this._syncS = Utils.bind(this._syncSubtree, this);\n\n    if (this.$element[0].attachEvent) {\n      this.$element[0].attachEvent('onpropertychange', this._syncA);\n    }\n\n    var observer = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\n    if (observer != null) {\n      this._observer = new observer(function (mutations) {\n        self._syncA();\n\n        self._syncS(null, mutations);\n      });\n\n      this._observer.observe(this.$element[0], {\n        attributes: true,\n        childList: true,\n        subtree: false\n      });\n    } else if (this.$element[0].addEventListener) {\n      this.$element[0].addEventListener('DOMAttrModified', self._syncA, false);\n      this.$element[0].addEventListener('DOMNodeInserted', self._syncS, false);\n      this.$element[0].addEventListener('DOMNodeRemoved', self._syncS, false);\n    }\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle', 'focus'];\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n    this.selection.on('focus', function (params) {\n      self.focus(params);\n    });\n    this.selection.on('*', function (name, params) {\n      if ($.inArray(name, nonRelayEvents) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n    this.on('open', function () {\n      self.$container.addClass('select2-container--open');\n    });\n    this.on('close', function () {\n      self.$container.removeClass('select2-container--open');\n    });\n    this.on('enable', function () {\n      self.$container.removeClass('select2-container--disabled');\n    });\n    this.on('disable', function () {\n      self.$container.addClass('select2-container--disabled');\n    });\n    this.on('blur', function () {\n      self.$container.removeClass('select2-container--focus');\n    });\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open', {});\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ESC || key === KEYS.TAB || key === KEYS.UP && evt.altKey) {\n          self.close(evt);\n          evt.preventDefault();\n        } else if (key === KEYS.ENTER) {\n          self.trigger('results:select', {});\n          evt.preventDefault();\n        } else if (key === KEYS.SPACE && evt.ctrlKey) {\n          self.trigger('results:toggle', {});\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous', {});\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next', {});\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE || key === KEYS.DOWN && evt.altKey) {\n          self.open();\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.isDisabled()) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable', {});\n    } else {\n      this.trigger('enable', {});\n    }\n  };\n\n  Select2.prototype._isChangeMutation = function (evt, mutations) {\n    var changed = false;\n    var self = this; // Ignore any mutation events raised for elements that aren't options or\n    // optgroups. This handles the case when the select element is destroyed\n\n    if (evt && evt.target && evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP') {\n      return;\n    }\n\n    if (!mutations) {\n      // If mutation events aren't supported, then we can only assume that the\n      // change affected the selections\n      changed = true;\n    } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {\n      for (var n = 0; n < mutations.addedNodes.length; n++) {\n        var node = mutations.addedNodes[n];\n\n        if (node.selected) {\n          changed = true;\n        }\n      }\n    } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {\n      changed = true;\n    } else if ($.isArray(mutations)) {\n      $.each(mutations, function (evt, mutation) {\n        if (self._isChangeMutation(evt, mutation)) {\n          // We've found a change mutation.\n          // Let's escape from the loop and continue\n          changed = true;\n          return false;\n        }\n      });\n    }\n\n    return changed;\n  };\n\n  Select2.prototype._syncSubtree = function (evt, mutations) {\n    var changed = this._isChangeMutation(evt, mutations);\n\n    var self = this; // Only re-pull the data if we think there is a change\n\n    if (changed) {\n      this.dataAdapter.current(function (currentData) {\n        self.trigger('selection:update', {\n          data: currentData\n        });\n      });\n    }\n  };\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n\n\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting',\n      'clear': 'clearing'\n    };\n\n    if (args === undefined) {\n      args = {};\n    }\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.isDisabled()) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    if (this.isDisabled()) {\n      return;\n    }\n\n    this.trigger('query', {});\n  };\n\n  Select2.prototype.close = function (evt) {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close', {\n      originalEvent: evt\n    });\n  };\n  /**\n   * Helper method to abstract the \"enabled\" (not \"disabled\") state of this\n   * object.\n   *\n   * @return {true} if the instance is not disabled.\n   * @return {false} if the instance is disabled.\n   */\n\n\n  Select2.prototype.isEnabled = function () {\n    return !this.isDisabled();\n  };\n  /**\n   * Helper method to abstract the \"disabled\" state of this object.\n   *\n   * @return {true} if the disabled option is true.\n   * @return {false} if the disabled option is false.\n   */\n\n\n  Select2.prototype.isDisabled = function () {\n    return this.options.get('disabled');\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container.hasClass('select2-container--open');\n  };\n\n  Select2.prototype.hasFocus = function () {\n    return this.$container.hasClass('select2-container--focus');\n  };\n\n  Select2.prototype.focus = function (data) {\n    // No need to re-trigger focus events if we are already focused\n    if (this.hasFocus()) {\n      return;\n    }\n\n    this.$container.addClass('select2-container--focus');\n    this.trigger('focus', {});\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn('Select2: The `select2(\"enable\")` method has been deprecated and will' + ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' + ' instead.');\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') && arguments.length > 0 && window.console && console.warn) {\n      console.warn('Select2: Data can no longer be set using `select2(\"data\")`. You ' + 'should consider setting the value instead using `$element.val()`.');\n    }\n\n    var data = [];\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn('Select2: The `select2(\"val\")` method has been deprecated and will be' + ' removed in later Select2 versions. Use $element.val() instead.');\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if ($.isArray(newVal)) {\n      newVal = $.map(newVal, function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('input').trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    this.$container.remove();\n\n    if (this.$element[0].detachEvent) {\n      this.$element[0].detachEvent('onpropertychange', this._syncA);\n    }\n\n    if (this._observer != null) {\n      this._observer.disconnect();\n\n      this._observer = null;\n    } else if (this.$element[0].removeEventListener) {\n      this.$element[0].removeEventListener('DOMAttrModified', this._syncA, false);\n      this.$element[0].removeEventListener('DOMNodeInserted', this._syncS, false);\n      this.$element[0].removeEventListener('DOMNodeRemoved', this._syncS, false);\n    }\n\n    this._syncA = null;\n    this._syncS = null;\n    this.$element.off('.select2');\n    this.$element.attr('tabindex', Utils.GetData(this.$element[0], 'old-tabindex'));\n    this.$element.removeClass('select2-hidden-accessible');\n    this.$element.attr('aria-hidden', 'false');\n    Utils.RemoveData(this.$element[0]);\n    this.$element.removeData('select2');\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $('<span class=\"select2 select2-container\">' + '<span class=\"selection\"></span>' + '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' + '</span>');\n    $container.attr('dir', this.options.get('dir'));\n    this.$container = $container;\n    this.$container.addClass('select2-container--' + this.options.get('theme'));\n    Utils.StoreData($container[0], 'element', this.$element);\n    return $container;\n  };\n\n  return Select2;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/core.js"],"names":["define","$","Options","Utils","KEYS","Select2","$element","options","GetData","destroy","id","_generateId","__super__","constructor","call","tabindex","attr","StoreData","DataAdapter","get","dataAdapter","$container","render","_placeContainer","SelectionAdapter","selection","$selection","position","DropdownAdapter","dropdown","$dropdown","ResultsAdapter","results","$results","self","_bindAdapters","_registerDomEvents","_registerDataEvents","_registerSelectionEvents","_registerDropdownEvents","_registerResultsEvents","_registerEvents","current","initialData","trigger","data","addClass","_syncAttributes","Extend","Observable","prototype","generateChars","replace","insertAfter","width","_resolveWidth","css","method","WIDTH","styleWidth","elementWidth","outerWidth","style","attrs","split","i","l","length","matches","match","computedStyle","window","getComputedStyle","bind","on","evt","_syncA","_syncS","_syncSubtree","attachEvent","observer","MutationObserver","WebKitMutationObserver","MozMutationObserver","_observer","mutations","observe","attributes","childList","subtree","addEventListener","name","params","nonRelayEvents","toggleDropdown","focus","inArray","removeClass","isOpen","query","key","which","ESC","TAB","UP","altKey","close","preventDefault","ENTER","SPACE","ctrlKey","DOWN","open","set","prop","isDisabled","_isChangeMutation","changed","target","nodeName","addedNodes","n","node","selected","removedNodes","isArray","each","mutation","currentData","args","actualTrigger","preTriggerMap","undefined","preTriggerName","preTriggerArgs","prevented","originalEvent","isEnabled","hasClass","hasFocus","enable","console","warn","disabled","arguments","val","newVal","map","obj","toString","remove","detachEvent","disconnect","removeEventListener","off","RemoveData","removeData"],"mappings":"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","sourcesContent":["define([\n  'jquery',\n  './options',\n  './utils',\n  './keys'\n], function ($, Options, Utils, KEYS) {\n  var Select2 = function ($element, options) {\n    if (Utils.GetData($element[0], 'select2') != null) {\n      Utils.GetData($element[0], 'select2').destroy();\n    }\n\n    this.$element = $element;\n\n    this.id = this._generateId($element);\n\n    options = options || {};\n\n    this.options = new Options(options, $element);\n\n    Select2.__super__.constructor.call(this);\n\n    // Set up the tabindex\n\n    var tabindex = $element.attr('tabindex') || 0;\n    Utils.StoreData($element[0], 'old-tabindex', tabindex);\n    $element.attr('tabindex', '-1');\n\n    // Set up containers and adapters\n\n    var DataAdapter = this.options.get('dataAdapter');\n    this.dataAdapter = new DataAdapter($element, this.options);\n\n    var $container = this.render();\n\n    this._placeContainer($container);\n\n    var SelectionAdapter = this.options.get('selectionAdapter');\n    this.selection = new SelectionAdapter($element, this.options);\n    this.$selection = this.selection.render();\n\n    this.selection.position(this.$selection, $container);\n\n    var DropdownAdapter = this.options.get('dropdownAdapter');\n    this.dropdown = new DropdownAdapter($element, this.options);\n    this.$dropdown = this.dropdown.render();\n\n    this.dropdown.position(this.$dropdown, $container);\n\n    var ResultsAdapter = this.options.get('resultsAdapter');\n    this.results = new ResultsAdapter($element, this.options, this.dataAdapter);\n    this.$results = this.results.render();\n\n    this.results.position(this.$results, this.$dropdown);\n\n    // Bind events\n\n    var self = this;\n\n    // Bind the container to all of the adapters\n    this._bindAdapters();\n\n    // Register any DOM event handlers\n    this._registerDomEvents();\n\n    // Register any internal event handlers\n    this._registerDataEvents();\n    this._registerSelectionEvents();\n    this._registerDropdownEvents();\n    this._registerResultsEvents();\n    this._registerEvents();\n\n    // Set the initial state\n    this.dataAdapter.current(function (initialData) {\n      self.trigger('selection:update', {\n        data: initialData\n      });\n    });\n\n    // Hide the original select\n    $element.addClass('select2-hidden-accessible');\n    $element.attr('aria-hidden', 'true');\n\n    // Synchronize any monitored attributes\n    this._syncAttributes();\n\n    Utils.StoreData($element[0], 'select2', this);\n\n    // Ensure backwards compatibility with $element.data('select2').\n    $element.data('select2', this);\n  };\n\n  Utils.Extend(Select2, Utils.Observable);\n\n  Select2.prototype._generateId = function ($element) {\n    var id = '';\n\n    if ($element.attr('id') != null) {\n      id = $element.attr('id');\n    } else if ($element.attr('name') != null) {\n      id = $element.attr('name') + '-' + Utils.generateChars(2);\n    } else {\n      id = Utils.generateChars(4);\n    }\n\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = 'select2-' + id;\n\n    return id;\n  };\n\n  Select2.prototype._placeContainer = function ($container) {\n    $container.insertAfter(this.$element);\n\n    var width = this._resolveWidth(this.$element, this.options.get('width'));\n\n    if (width != null) {\n      $container.css('width', width);\n    }\n  };\n\n  Select2.prototype._resolveWidth = function ($element, method) {\n    var WIDTH = /^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;\n\n    if (method == 'resolve') {\n      var styleWidth = this._resolveWidth($element, 'style');\n\n      if (styleWidth != null) {\n        return styleWidth;\n      }\n\n      return this._resolveWidth($element, 'element');\n    }\n\n    if (method == 'element') {\n      var elementWidth = $element.outerWidth(false);\n\n      if (elementWidth <= 0) {\n        return 'auto';\n      }\n\n      return elementWidth + 'px';\n    }\n\n    if (method == 'style') {\n      var style = $element.attr('style');\n\n      if (typeof(style) !== 'string') {\n        return null;\n      }\n\n      var attrs = style.split(';');\n\n      for (var i = 0, l = attrs.length; i < l; i = i + 1) {\n        var attr = attrs[i].replace(/\\s/g, '');\n        var matches = attr.match(WIDTH);\n\n        if (matches !== null && matches.length >= 1) {\n          return matches[1];\n        }\n      }\n\n      return null;\n    }\n\n    if (method == 'computedstyle') {\n      var computedStyle = window.getComputedStyle($element[0]);\n\n      return computedStyle.width;\n    }\n\n    return method;\n  };\n\n  Select2.prototype._bindAdapters = function () {\n    this.dataAdapter.bind(this, this.$container);\n    this.selection.bind(this, this.$container);\n\n    this.dropdown.bind(this, this.$container);\n    this.results.bind(this, this.$container);\n  };\n\n  Select2.prototype._registerDomEvents = function () {\n    var self = this;\n\n    this.$element.on('change.select2', function () {\n      self.dataAdapter.current(function (data) {\n        self.trigger('selection:update', {\n          data: data\n        });\n      });\n    });\n\n    this.$element.on('focus.select2', function (evt) {\n      self.trigger('focus', evt);\n    });\n\n    this._syncA = Utils.bind(this._syncAttributes, this);\n    this._syncS = Utils.bind(this._syncSubtree, this);\n\n    if (this.$element[0].attachEvent) {\n      this.$element[0].attachEvent('onpropertychange', this._syncA);\n    }\n\n    var observer = window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    ;\n\n    if (observer != null) {\n      this._observer = new observer(function (mutations) {\n        self._syncA();\n        self._syncS(null, mutations);\n      });\n      this._observer.observe(this.$element[0], {\n        attributes: true,\n        childList: true,\n        subtree: false\n      });\n    } else if (this.$element[0].addEventListener) {\n      this.$element[0].addEventListener(\n        'DOMAttrModified',\n        self._syncA,\n        false\n      );\n      this.$element[0].addEventListener(\n        'DOMNodeInserted',\n        self._syncS,\n        false\n      );\n      this.$element[0].addEventListener(\n        'DOMNodeRemoved',\n        self._syncS,\n        false\n      );\n    }\n  };\n\n  Select2.prototype._registerDataEvents = function () {\n    var self = this;\n\n    this.dataAdapter.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerSelectionEvents = function () {\n    var self = this;\n    var nonRelayEvents = ['toggle', 'focus'];\n\n    this.selection.on('toggle', function () {\n      self.toggleDropdown();\n    });\n\n    this.selection.on('focus', function (params) {\n      self.focus(params);\n    });\n\n    this.selection.on('*', function (name, params) {\n      if ($.inArray(name, nonRelayEvents) !== -1) {\n        return;\n      }\n\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerDropdownEvents = function () {\n    var self = this;\n\n    this.dropdown.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerResultsEvents = function () {\n    var self = this;\n\n    this.results.on('*', function (name, params) {\n      self.trigger(name, params);\n    });\n  };\n\n  Select2.prototype._registerEvents = function () {\n    var self = this;\n\n    this.on('open', function () {\n      self.$container.addClass('select2-container--open');\n    });\n\n    this.on('close', function () {\n      self.$container.removeClass('select2-container--open');\n    });\n\n    this.on('enable', function () {\n      self.$container.removeClass('select2-container--disabled');\n    });\n\n    this.on('disable', function () {\n      self.$container.addClass('select2-container--disabled');\n    });\n\n    this.on('blur', function () {\n      self.$container.removeClass('select2-container--focus');\n    });\n\n    this.on('query', function (params) {\n      if (!self.isOpen()) {\n        self.trigger('open', {});\n      }\n\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:all', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('query:append', function (params) {\n      this.dataAdapter.query(params, function (data) {\n        self.trigger('results:append', {\n          data: data,\n          query: params\n        });\n      });\n    });\n\n    this.on('keypress', function (evt) {\n      var key = evt.which;\n\n      if (self.isOpen()) {\n        if (key === KEYS.ESC || key === KEYS.TAB ||\n            (key === KEYS.UP && evt.altKey)) {\n          self.close(evt);\n\n          evt.preventDefault();\n        } else if (key === KEYS.ENTER) {\n          self.trigger('results:select', {});\n\n          evt.preventDefault();\n        } else if ((key === KEYS.SPACE && evt.ctrlKey)) {\n          self.trigger('results:toggle', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.UP) {\n          self.trigger('results:previous', {});\n\n          evt.preventDefault();\n        } else if (key === KEYS.DOWN) {\n          self.trigger('results:next', {});\n\n          evt.preventDefault();\n        }\n      } else {\n        if (key === KEYS.ENTER || key === KEYS.SPACE ||\n            (key === KEYS.DOWN && evt.altKey)) {\n          self.open();\n\n          evt.preventDefault();\n        }\n      }\n    });\n  };\n\n  Select2.prototype._syncAttributes = function () {\n    this.options.set('disabled', this.$element.prop('disabled'));\n\n    if (this.isDisabled()) {\n      if (this.isOpen()) {\n        this.close();\n      }\n\n      this.trigger('disable', {});\n    } else {\n      this.trigger('enable', {});\n    }\n  };\n\n  Select2.prototype._isChangeMutation = function (evt, mutations) {\n    var changed = false;\n    var self = this;\n\n    // Ignore any mutation events raised for elements that aren't options or\n    // optgroups. This handles the case when the select element is destroyed\n    if (\n      evt && evt.target && (\n        evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP'\n      )\n    ) {\n      return;\n    }\n\n    if (!mutations) {\n      // If mutation events aren't supported, then we can only assume that the\n      // change affected the selections\n      changed = true;\n    } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {\n      for (var n = 0; n < mutations.addedNodes.length; n++) {\n        var node = mutations.addedNodes[n];\n\n        if (node.selected) {\n          changed = true;\n        }\n      }\n    } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {\n      changed = true;\n    } else if ($.isArray(mutations)) {\n      $.each(mutations, function(evt, mutation) {\n        if (self._isChangeMutation(evt, mutation)) {\n          // We've found a change mutation.\n          // Let's escape from the loop and continue\n          changed = true;\n          return false;\n        }\n      });\n    }\n    return changed;\n  };\n\n  Select2.prototype._syncSubtree = function (evt, mutations) {\n    var changed = this._isChangeMutation(evt, mutations);\n    var self = this;\n\n    // Only re-pull the data if we think there is a change\n    if (changed) {\n      this.dataAdapter.current(function (currentData) {\n        self.trigger('selection:update', {\n          data: currentData\n        });\n      });\n    }\n  };\n\n  /**\n   * Override the trigger method to automatically trigger pre-events when\n   * there are events that can be prevented.\n   */\n  Select2.prototype.trigger = function (name, args) {\n    var actualTrigger = Select2.__super__.trigger;\n    var preTriggerMap = {\n      'open': 'opening',\n      'close': 'closing',\n      'select': 'selecting',\n      'unselect': 'unselecting',\n      'clear': 'clearing'\n    };\n\n    if (args === undefined) {\n      args = {};\n    }\n\n    if (name in preTriggerMap) {\n      var preTriggerName = preTriggerMap[name];\n      var preTriggerArgs = {\n        prevented: false,\n        name: name,\n        args: args\n      };\n\n      actualTrigger.call(this, preTriggerName, preTriggerArgs);\n\n      if (preTriggerArgs.prevented) {\n        args.prevented = true;\n\n        return;\n      }\n    }\n\n    actualTrigger.call(this, name, args);\n  };\n\n  Select2.prototype.toggleDropdown = function () {\n    if (this.isDisabled()) {\n      return;\n    }\n\n    if (this.isOpen()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  };\n\n  Select2.prototype.open = function () {\n    if (this.isOpen()) {\n      return;\n    }\n\n    if (this.isDisabled()) {\n      return;\n    }\n\n    this.trigger('query', {});\n  };\n\n  Select2.prototype.close = function (evt) {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.trigger('close', { originalEvent : evt });\n  };\n\n  /**\n   * Helper method to abstract the \"enabled\" (not \"disabled\") state of this\n   * object.\n   *\n   * @return {true} if the instance is not disabled.\n   * @return {false} if the instance is disabled.\n   */\n  Select2.prototype.isEnabled = function () {\n    return !this.isDisabled();\n  };\n\n  /**\n   * Helper method to abstract the \"disabled\" state of this object.\n   *\n   * @return {true} if the disabled option is true.\n   * @return {false} if the disabled option is false.\n   */\n  Select2.prototype.isDisabled = function () {\n    return this.options.get('disabled');\n  };\n\n  Select2.prototype.isOpen = function () {\n    return this.$container.hasClass('select2-container--open');\n  };\n\n  Select2.prototype.hasFocus = function () {\n    return this.$container.hasClass('select2-container--focus');\n  };\n\n  Select2.prototype.focus = function (data) {\n    // No need to re-trigger focus events if we are already focused\n    if (this.hasFocus()) {\n      return;\n    }\n\n    this.$container.addClass('select2-container--focus');\n    this.trigger('focus', {});\n  };\n\n  Select2.prototype.enable = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"enable\")` method has been deprecated and will' +\n        ' be removed in later Select2 versions. Use $element.prop(\"disabled\")' +\n        ' instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      args = [true];\n    }\n\n    var disabled = !args[0];\n\n    this.$element.prop('disabled', disabled);\n  };\n\n  Select2.prototype.data = function () {\n    if (this.options.get('debug') &&\n        arguments.length > 0 && window.console && console.warn) {\n      console.warn(\n        'Select2: Data can no longer be set using `select2(\"data\")`. You ' +\n        'should consider setting the value instead using `$element.val()`.'\n      );\n    }\n\n    var data = [];\n\n    this.dataAdapter.current(function (currentData) {\n      data = currentData;\n    });\n\n    return data;\n  };\n\n  Select2.prototype.val = function (args) {\n    if (this.options.get('debug') && window.console && console.warn) {\n      console.warn(\n        'Select2: The `select2(\"val\")` method has been deprecated and will be' +\n        ' removed in later Select2 versions. Use $element.val() instead.'\n      );\n    }\n\n    if (args == null || args.length === 0) {\n      return this.$element.val();\n    }\n\n    var newVal = args[0];\n\n    if ($.isArray(newVal)) {\n      newVal = $.map(newVal, function (obj) {\n        return obj.toString();\n      });\n    }\n\n    this.$element.val(newVal).trigger('input').trigger('change');\n  };\n\n  Select2.prototype.destroy = function () {\n    this.$container.remove();\n\n    if (this.$element[0].detachEvent) {\n      this.$element[0].detachEvent('onpropertychange', this._syncA);\n    }\n\n    if (this._observer != null) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this.$element[0].removeEventListener) {\n      this.$element[0]\n        .removeEventListener('DOMAttrModified', this._syncA, false);\n      this.$element[0]\n        .removeEventListener('DOMNodeInserted', this._syncS, false);\n      this.$element[0]\n        .removeEventListener('DOMNodeRemoved', this._syncS, false);\n    }\n\n    this._syncA = null;\n    this._syncS = null;\n\n    this.$element.off('.select2');\n    this.$element.attr('tabindex',\n    Utils.GetData(this.$element[0], 'old-tabindex'));\n\n    this.$element.removeClass('select2-hidden-accessible');\n    this.$element.attr('aria-hidden', 'false');\n    Utils.RemoveData(this.$element[0]);\n    this.$element.removeData('select2');\n\n    this.dataAdapter.destroy();\n    this.selection.destroy();\n    this.dropdown.destroy();\n    this.results.destroy();\n\n    this.dataAdapter = null;\n    this.selection = null;\n    this.dropdown = null;\n    this.results = null;\n  };\n\n  Select2.prototype.render = function () {\n    var $container = $(\n      '<span class=\"select2 select2-container\">' +\n        '<span class=\"selection\"></span>' +\n        '<span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span>' +\n      '</span>'\n    );\n\n    $container.attr('dir', this.options.get('dir'));\n\n    this.$container = $container;\n\n    this.$container.addClass('select2-container--' + this.options.get('theme'));\n\n    Utils.StoreData($container[0], 'element', this.$element);\n\n    return $container;\n  };\n\n  return Select2;\n});\n"]},"metadata":{},"sourceType":"module"}