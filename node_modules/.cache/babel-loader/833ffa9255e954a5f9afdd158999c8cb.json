{"ast":null,"code":"var _jsxFileName = \"/Users/albab/bookapro/amazon-mongo/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport './css/App.css';\nimport './assets/css/theme.min.css';\nimport './assets/vendor/@fortawesome/fontawesome-free/css/all.css';\nimport 'bootstrap/dist/js/bootstrap.bundle'; //pages\n\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Blogs from './pages/Blogs';\nimport Blog from './pages/Blog';\nimport Contact from './pages/Contact';\nimport Cart from './pages/Cart';\nimport Terms from './pages/Terms';\nimport Privacy from './pages/Privacy';\nimport AllCategories from \"./pages/AllCategories\"; //components\n\nimport Header from './components/Header/Header';\nimport Login from './components/Account/Login';\nimport Registration from './components/Account/Registration';\nimport Footer from './components/Footer/Footer';\nimport Listings from \"./components/Listings/Listings\";\nimport Single from \"./components/Listings/Single\";\nimport Checkout from './components/Cart/CartSuccess';\nimport ScrollToTop from './components/ScrollToTop'; //context\n\nimport aShopContext from \"./components/Context/ContextProvider\"; //main function\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const tax = 10;\n  const [cartItems, setCart] = useState([]);\n  const [cartTotal, setCartTotal] = useState(0);\n  const [categories, setCategory] = useState([]);\n  const [products, setProduct] = useState([]);\n  const [user, setUser] = useState([]);\n  const [userData, setUserData] = useState([]);\n  useEffect(() => {\n    fetch('https://amazon-backspring.herokuapp.com/categories').then(response => response.json()).then(data => setCategory(data.body));\n    fetch('https://amazon-backspring.herokuapp.com/products').then(response => response.json()).then(data => setProduct(data.body));\n    const cartItems = JSON.parse(localStorage.getItem(\"cartitems\") || \"[]\");\n    let totalAmount = 0;\n    cartItems.forEach((item, index) => {\n      totalAmount = totalAmount + parseInt(item.price) * parseInt(item.qty);\n    });\n    setCartTotal(parseInt(cartTotal) + totalAmount);\n    setCart(cartItems);\n  }, []);\n\n  const setCartItems = item => {\n    let setCartItems = [];\n\n    if (cartItems.length) {\n      setCartItems = cartItems;\n    }\n\n    let itemQty = item.qty;\n    const existingCheck = setCartItems.filter(obj => {\n      return obj.id === item.id;\n    });\n\n    if (existingCheck.length) {\n      item = existingCheck[0];\n\n      if (itemQty > item.qty) {\n        item.qty = parseInt(item.qty) + parseInt(itemQty);\n      } else if (itemQty < item.qty) {\n        item.qty = parseInt(item.qty) - parseInt(itemQty);\n      } else {\n        item.qty = parseInt(item.qty);\n      }\n    } else {\n      setCartItems.push(item);\n    }\n\n    localStorage.setItem(\"cartitems\", JSON.stringify(setCartItems));\n    setCart(setCartItems);\n  };\n\n  const clearCart = () => {\n    setCart([]);\n    setCartTotal(0);\n  };\n\n  const removeCartItem = productId => {\n    const cartItem = cartItems.filter(obj => {\n      return obj.id === productId;\n    })[0];\n    let amountToRemove = parseInt(cartItem.price) * parseInt(cartItem.qty);\n    let newCart = cartItems.filter(obj => {\n      return obj.id !== productId;\n    });\n    localStorage.setItem(\"cartitems\", JSON.stringify(newCart));\n    setCart(newCart);\n    setCartTotal(parseInt(cartTotal) - amountToRemove);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main-container\",\n    children: /*#__PURE__*/_jsxDEV(aShopContext.Provider, {\n      value: {\n        categories,\n        user,\n        products,\n        setUser,\n        userData,\n        cartItems,\n        setCartItems,\n        cartTotal,\n        setCartTotal,\n        clearCart,\n        removeCartItem,\n        tax\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ScrollToTop, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/registration\",\n              children: /*#__PURE__*/_jsxDEV(Registration, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/categories\",\n              children: /*#__PURE__*/_jsxDEV(AllCategories, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/listings/:id\",\n              children: /*#__PURE__*/_jsxDEV(Listings, {\n                products: products,\n                categories: categories\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/product\",\n              children: /*#__PURE__*/_jsxDEV(Single, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              children: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/terms\",\n              children: /*#__PURE__*/_jsxDEV(Terms, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/privacy\",\n              children: /*#__PURE__*/_jsxDEV(Privacy, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/blogs\",\n              children: /*#__PURE__*/_jsxDEV(Blogs, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/contact\",\n              children: /*#__PURE__*/_jsxDEV(Contact, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/cart\",\n              children: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/checkout\",\n              children: /*#__PURE__*/_jsxDEV(Checkout, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/blog\",\n              children: /*#__PURE__*/_jsxDEV(Blog, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Zxg23c8CLL8Yap6oLhpxm+pxCF4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/albab/bookapro/amazon-mongo/src/App.js"],"names":["useState","useEffect","BrowserRouter","Router","Switch","Route","Home","About","Blogs","Blog","Contact","Cart","Terms","Privacy","AllCategories","Header","Login","Registration","Footer","Listings","Single","Checkout","ScrollToTop","aShopContext","App","tax","cartItems","setCart","cartTotal","setCartTotal","categories","setCategory","products","setProduct","user","setUser","userData","setUserData","fetch","then","response","json","data","body","JSON","parse","localStorage","getItem","totalAmount","forEach","item","index","parseInt","price","qty","setCartItems","length","itemQty","existingCheck","filter","obj","id","push","setItem","stringify","clearCart","removeCartItem","productId","cartItem","amountToRemove","newCart"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport './css/App.css';\nimport './assets/css/theme.min.css';\nimport './assets/vendor/@fortawesome/fontawesome-free/css/all.css';\n\nimport 'bootstrap/dist/js/bootstrap.bundle';\n\n//pages\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Blogs from './pages/Blogs';\nimport Blog from './pages/Blog';\nimport Contact from './pages/Contact';\nimport Cart from './pages/Cart';\nimport Terms from './pages/Terms';\nimport Privacy from './pages/Privacy';\nimport AllCategories from \"./pages/AllCategories\";\n\n//components\nimport Header from './components/Header/Header';\nimport Login from './components/Account/Login';\nimport Registration from './components/Account/Registration';\nimport Footer from './components/Footer/Footer';\nimport Listings from \"./components/Listings/Listings\";\nimport Single from \"./components/Listings/Single\";\nimport Checkout from './components/Cart/CartSuccess';\nimport ScrollToTop from './components/ScrollToTop';\n\n//context\nimport aShopContext from \"./components/Context/ContextProvider\";\n\n\n\n//main function\nfunction App() {\n  const tax = 10;\n  const [cartItems, setCart] = useState([]);\n  const [cartTotal, setCartTotal] = useState(0);\n  const [categories, setCategory] = useState([]);\n  const [products, setProduct] = useState([]);\n  const [user, setUser] = useState([]);\n  const [userData, setUserData] = useState([]);\n\n\n\n  useEffect(() => {\n\n    fetch('https://amazon-backspring.herokuapp.com/categories')\n      .then(response => response.json())\n      .then(data => setCategory(data.body));\n\n    fetch('https://amazon-backspring.herokuapp.com/products')\n      .then(response => response.json())\n      .then(data => setProduct(data.body));\n\n    const cartItems = JSON.parse(localStorage.getItem(\"cartitems\") || \"[]\");\n\n    let totalAmount = 0;\n    cartItems.forEach((item, index) => {\n      totalAmount = totalAmount + (parseInt(item.price) * parseInt(item.qty));\n    });\n\n    setCartTotal(parseInt(cartTotal) + totalAmount);\n    setCart(cartItems);\n\n\n  }, []);\n\n\n  const setCartItems = (item) => {\n    let setCartItems = []\n    if (cartItems.length) {\n      setCartItems = cartItems;\n    }\n\n    let itemQty = item.qty;\n\n\n    const existingCheck = setCartItems.filter(obj => { return obj.id === item.id });\n\n    if (existingCheck.length) {\n\n      item = existingCheck[0];\n      if (itemQty > item.qty) {\n        item.qty = parseInt(item.qty) + parseInt(itemQty);\n      } else if (itemQty < item.qty) {\n        item.qty = parseInt(item.qty) - parseInt(itemQty);\n      } else {\n        item.qty = parseInt(item.qty);\n      }\n\n    } else {\n      setCartItems.push(item);\n    }\n\n\n    localStorage.setItem(\"cartitems\", JSON.stringify(setCartItems))\n    setCart(setCartItems);\n  }\n\n  const clearCart = () => {\n    setCart([]);\n    setCartTotal(0);\n  }\n\n  const removeCartItem = (productId) => {\n    const cartItem = cartItems.filter(obj => { return obj.id === productId })[0];\n    let amountToRemove = parseInt(cartItem.price) * parseInt(cartItem.qty);\n    let newCart = cartItems.filter(obj => { return obj.id !== productId });\n    localStorage.setItem(\"cartitems\", JSON.stringify(newCart))\n    setCart(newCart);\n    setCartTotal(parseInt(cartTotal) - amountToRemove);\n  }\n\n\n  return (\n    <div id=\"main-container\">\n      <aShopContext.Provider value={{ categories, user, products, setUser, userData, cartItems, setCartItems, cartTotal, setCartTotal, clearCart, removeCartItem, tax}}>\n        <Router>\n          <Header />\n\n          <ScrollToTop>\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              <Route path=\"/registration\">\n                <Registration />\n              </Route>\n\n              <Route path=\"/categories\">\n                <AllCategories />\n              </Route>\n\n              <Route path=\"/listings/:id\">\n                <Listings products={products} categories={categories} />\n              </Route>\n              <Route path=\"/product\">\n\n                <Single />\n              </Route>\n              <Route path=\"/about\">\n                <About />\n              </Route>\n\n              <Route path=\"/terms\">\n                <Terms />\n              </Route>\n\n              <Route path=\"/privacy\">\n                <Privacy />\n              </Route>\n\n              <Route path=\"/blogs\">\n                <Blogs />\n              </Route>\n\n              <Route path=\"/contact\">\n                <Contact />\n              </Route>\n\n\n              <Route path=\"/cart\">\n                <Cart/>\n              </Route>\n\n              <Route path=\"/checkout\">\n\n                <Checkout />\n              </Route>\n\n              <Route path=\"/blog\">\n                <Blog />\n              </Route>\n            </Switch>\n          </ScrollToTop>\n\n          <Footer />\n        </Router>\n      </aShopContext.Provider>\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}