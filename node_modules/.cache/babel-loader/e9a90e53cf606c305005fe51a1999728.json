{"ast":null,"code":"import Embed from '../blots/embed';\nimport Quill from '../core/quill';\nimport Module from '../core/module';\n\nclass FormulaBlot extends Embed {\n  static create(value) {\n    let node = super.create(value);\n\n    if (typeof value === 'string') {\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00'\n      });\n      node.setAttribute('data-value', value);\n    }\n\n    return node;\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('data-value');\n  }\n\n}\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nclass Formula extends Module {\n  static register() {\n    Quill.register(FormulaBlot, true);\n  }\n\n  constructor() {\n    super();\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n  }\n\n}\n\nexport { FormulaBlot, Formula as default };","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/quill/modules/formula.js"],"names":["Embed","Quill","Module","FormulaBlot","create","value","node","window","katex","render","throwOnError","errorColor","setAttribute","domNode","getAttribute","blotName","className","tagName","Formula","register","constructor","Error","default"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;AAGA,MAAMC,WAAN,SAA0BH,KAA1B,CAAgC;AACjB,SAANI,MAAM,CAACC,KAAD,EAAQ;AACnB,QAAIC,IAAI,GAAG,MAAMF,MAAN,CAAaC,KAAb,CAAX;;AACA,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BE,MAAAA,MAAM,CAACC,KAAP,CAAaC,MAAb,CAAoBJ,KAApB,EAA2BC,IAA3B,EAAiC;AAC/BI,QAAAA,YAAY,EAAE,KADiB;AAE/BC,QAAAA,UAAU,EAAE;AAFmB,OAAjC;AAIAL,MAAAA,IAAI,CAACM,YAAL,CAAkB,YAAlB,EAAgCP,KAAhC;AACD;;AACD,WAAOC,IAAP;AACD;;AAEW,SAALD,KAAK,CAACQ,OAAD,EAAU;AACpB,WAAOA,OAAO,CAACC,YAAR,CAAqB,YAArB,CAAP;AACD;;AAf6B;;AAiBhCX,WAAW,CAACY,QAAZ,GAAuB,SAAvB;AACAZ,WAAW,CAACa,SAAZ,GAAwB,YAAxB;AACAb,WAAW,CAACc,OAAZ,GAAsB,MAAtB;;AAGA,MAAMC,OAAN,SAAsBhB,MAAtB,CAA6B;AACZ,SAARiB,QAAQ,GAAG;AAChBlB,IAAAA,KAAK,CAACkB,QAAN,CAAehB,WAAf,EAA4B,IAA5B;AACD;;AAEDiB,EAAAA,WAAW,GAAG;AACZ;;AACA,QAAIb,MAAM,CAACC,KAAP,IAAgB,IAApB,EAA0B;AACxB,YAAM,IAAIa,KAAJ,CAAU,gCAAV,CAAN;AACD;AACF;;AAV0B;;AAc7B,SAASlB,WAAT,EAAsBe,OAAO,IAAII,OAAjC","sourcesContent":["import Embed from '../blots/embed';\nimport Quill from '../core/quill';\nimport Module from '../core/module';\n\n\nclass FormulaBlot extends Embed {\n  static create(value) {\n    let node = super.create(value);\n    if (typeof value === 'string') {\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00'\n      });\n      node.setAttribute('data-value', value);\n    }\n    return node;\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('data-value');\n  }\n}\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\n\nclass Formula extends Module {\n  static register() {\n    Quill.register(FormulaBlot, true);\n  }\n\n  constructor() {\n    super();\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n  }\n}\n\n\nexport { FormulaBlot, Formula as default };\n"]},"metadata":{},"sourceType":"module"}