{"ast":null,"code":"define(['jquery', '../utils'], function ($, Utils) {\n  function Search() {}\n\n  Search.prototype.render = function (decorated) {\n    var $rendered = decorated.call(this);\n    var $search = $('<span class=\"select2-search select2-search--dropdown\">' + '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' + ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\"' + ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" />' + '</span>');\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n    $rendered.prepend($search);\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n    var resultsId = container.id + '-results';\n    decorated.call(this, container, $container);\n    this.$search.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n      self._keyUpPrevented = evt.isDefaultPrevented();\n    }); // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n\n    this.$search.on('input', function (evt) {\n      // Unbind the duplicated `keyup` event\n      $(this).off('keyup');\n    });\n    this.$search.on('keyup input', function (evt) {\n      self.handleSearch(evt);\n    });\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n      self.$search.attr('aria-controls', resultsId);\n      self.$search.trigger('focus');\n      window.setTimeout(function () {\n        self.$search.trigger('focus');\n      }, 0);\n    });\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n      self.$search.val('');\n      self.$search.trigger('blur');\n    });\n    container.on('focus', function () {\n      if (!container.isOpen()) {\n        self.$search.trigger('focus');\n      }\n    });\n    container.on('results:all', function (params) {\n      if (params.query.term == null || params.query.term === '') {\n        var showSearch = self.showSearch(params);\n\n        if (showSearch) {\n          self.$searchContainer.removeClass('select2-search--hide');\n        } else {\n          self.$searchContainer.addClass('select2-search--hide');\n        }\n      }\n    });\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n  };\n\n  Search.prototype.handleSearch = function (evt) {\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.showSearch = function (_, params) {\n    return true;\n  };\n\n  return Search;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/dropdown/search.js"],"names":["define","$","Utils","Search","prototype","render","decorated","$rendered","call","$search","$searchContainer","find","prepend","bind","container","$container","self","resultsId","id","on","evt","trigger","_keyUpPrevented","isDefaultPrevented","off","handleSearch","attr","window","setTimeout","removeAttr","val","isOpen","params","query","term","showSearch","removeClass","addClass","data","_resultId","input","_"],"mappings":"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","sourcesContent":["define([\n  'jquery',\n  '../utils'\n], function ($, Utils) {\n  function Search () { }\n\n  Search.prototype.render = function (decorated) {\n    var $rendered = decorated.call(this);\n\n    var $search = $(\n      '<span class=\"select2-search select2-search--dropdown\">' +\n        '<input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\"' +\n        ' autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\"' +\n        ' spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" />' +\n      '</span>'\n    );\n\n    this.$searchContainer = $search;\n    this.$search = $search.find('input');\n\n    $rendered.prepend($search);\n\n    return $rendered;\n  };\n\n  Search.prototype.bind = function (decorated, container, $container) {\n    var self = this;\n\n    var resultsId = container.id + '-results';\n\n    decorated.call(this, container, $container);\n\n    this.$search.on('keydown', function (evt) {\n      self.trigger('keypress', evt);\n\n      self._keyUpPrevented = evt.isDefaultPrevented();\n    });\n\n    // Workaround for browsers which do not support the `input` event\n    // This will prevent double-triggering of events for browsers which support\n    // both the `keyup` and `input` events.\n    this.$search.on('input', function (evt) {\n      // Unbind the duplicated `keyup` event\n      $(this).off('keyup');\n    });\n\n    this.$search.on('keyup input', function (evt) {\n      self.handleSearch(evt);\n    });\n\n    container.on('open', function () {\n      self.$search.attr('tabindex', 0);\n      self.$search.attr('aria-controls', resultsId);\n\n      self.$search.trigger('focus');\n\n      window.setTimeout(function () {\n        self.$search.trigger('focus');\n      }, 0);\n    });\n\n    container.on('close', function () {\n      self.$search.attr('tabindex', -1);\n      self.$search.removeAttr('aria-controls');\n      self.$search.removeAttr('aria-activedescendant');\n\n      self.$search.val('');\n      self.$search.trigger('blur');\n    });\n\n    container.on('focus', function () {\n      if (!container.isOpen()) {\n        self.$search.trigger('focus');\n      }\n    });\n\n    container.on('results:all', function (params) {\n      if (params.query.term == null || params.query.term === '') {\n        var showSearch = self.showSearch(params);\n\n        if (showSearch) {\n          self.$searchContainer.removeClass('select2-search--hide');\n        } else {\n          self.$searchContainer.addClass('select2-search--hide');\n        }\n      }\n    });\n\n    container.on('results:focus', function (params) {\n      if (params.data._resultId) {\n        self.$search.attr('aria-activedescendant', params.data._resultId);\n      } else {\n        self.$search.removeAttr('aria-activedescendant');\n      }\n    });\n  };\n\n  Search.prototype.handleSearch = function (evt) {\n    if (!this._keyUpPrevented) {\n      var input = this.$search.val();\n\n      this.trigger('query', {\n        term: input\n      });\n    }\n\n    this._keyUpPrevented = false;\n  };\n\n  Search.prototype.showSearch = function (_, params) {\n    return true;\n  };\n\n  return Search;\n});\n"]},"metadata":{},"sourceType":"module"}