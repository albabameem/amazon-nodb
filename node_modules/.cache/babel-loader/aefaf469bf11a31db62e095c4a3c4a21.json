{"ast":null,"code":"define(['jquery', './base', '../utils', '../keys'], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection() {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--single');\n    $selection.html('<span class=\"select2-selection__rendered\"></span>' + '<span class=\"select2-selection__arrow\" role=\"presentation\">' + '<b role=\"presentation\"></b>' + '</span>');\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n    this.$selection.find('.select2-selection__rendered').attr('id', id).attr('role', 'textbox').attr('aria-readonly', 'true');\n    this.$selection.attr('aria-labelledby', id);\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n    this.$selection.on('focus', function (evt) {// User focuses on the container\n    });\n    this.$selection.on('blur', function (evt) {// User exits the container\n    });\n    container.on('focus', function (evt) {\n      if (!container.isOpen()) {\n        self.$selection.trigger('focus');\n      }\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title'); // clear tooltip on empty\n  };\n\n  SingleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n    return escapeMarkup(template(data, container));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    var formatted = this.display(selection, $rendered);\n    $rendered.empty().append(formatted);\n    var title = selection.title || selection.text;\n\n    if (title) {\n      $rendered.attr('title', title);\n    } else {\n      $rendered.removeAttr('title');\n    }\n  };\n\n  return SingleSelection;\n});","map":{"version":3,"sources":["/Users/albab/bookapro/amazon/src/assets/vendor/select2/src/js/select2/selection/single.js"],"names":["define","$","BaseSelection","Utils","KEYS","SingleSelection","__super__","constructor","apply","arguments","Extend","prototype","render","$selection","call","addClass","html","bind","container","$container","self","id","find","attr","on","evt","which","trigger","originalEvent","isOpen","clear","$rendered","empty","removeAttr","display","data","template","options","get","escapeMarkup","selectionContainer","update","length","selection","formatted","append","title","text"],"mappings":"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","sourcesContent":["define([\n  'jquery',\n  './base',\n  '../utils',\n  '../keys'\n], function ($, BaseSelection, Utils, KEYS) {\n  function SingleSelection () {\n    SingleSelection.__super__.constructor.apply(this, arguments);\n  }\n\n  Utils.Extend(SingleSelection, BaseSelection);\n\n  SingleSelection.prototype.render = function () {\n    var $selection = SingleSelection.__super__.render.call(this);\n\n    $selection.addClass('select2-selection--single');\n\n    $selection.html(\n      '<span class=\"select2-selection__rendered\"></span>' +\n      '<span class=\"select2-selection__arrow\" role=\"presentation\">' +\n        '<b role=\"presentation\"></b>' +\n      '</span>'\n    );\n\n    return $selection;\n  };\n\n  SingleSelection.prototype.bind = function (container, $container) {\n    var self = this;\n\n    SingleSelection.__super__.bind.apply(this, arguments);\n\n    var id = container.id + '-container';\n\n    this.$selection.find('.select2-selection__rendered')\n      .attr('id', id)\n      .attr('role', 'textbox')\n      .attr('aria-readonly', 'true');\n    this.$selection.attr('aria-labelledby', id);\n\n    this.$selection.on('mousedown', function (evt) {\n      // Only respond to left clicks\n      if (evt.which !== 1) {\n        return;\n      }\n\n      self.trigger('toggle', {\n        originalEvent: evt\n      });\n    });\n\n    this.$selection.on('focus', function (evt) {\n      // User focuses on the container\n    });\n\n    this.$selection.on('blur', function (evt) {\n      // User exits the container\n    });\n\n    container.on('focus', function (evt) {\n      if (!container.isOpen()) {\n        self.$selection.trigger('focus');\n      }\n    });\n  };\n\n  SingleSelection.prototype.clear = function () {\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    $rendered.empty();\n    $rendered.removeAttr('title'); // clear tooltip on empty\n  };\n\n  SingleSelection.prototype.display = function (data, container) {\n    var template = this.options.get('templateSelection');\n    var escapeMarkup = this.options.get('escapeMarkup');\n\n    return escapeMarkup(template(data, container));\n  };\n\n  SingleSelection.prototype.selectionContainer = function () {\n    return $('<span></span>');\n  };\n\n  SingleSelection.prototype.update = function (data) {\n    if (data.length === 0) {\n      this.clear();\n      return;\n    }\n\n    var selection = data[0];\n\n    var $rendered = this.$selection.find('.select2-selection__rendered');\n    var formatted = this.display(selection, $rendered);\n\n    $rendered.empty().append(formatted);\n\n    var title = selection.title || selection.text;\n\n    if (title) {\n      $rendered.attr('title', title);\n    } else {\n      $rendered.removeAttr('title');\n    }\n  };\n\n  return SingleSelection;\n});\n"]},"metadata":{},"sourceType":"module"}